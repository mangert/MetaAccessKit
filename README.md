# MetaAccessKit

**MetaAccessKit** โ ััะตะฑะฝัะน ะฟัะพะตะบั ะฝะฐ Solidity, ัะตะฐะปะธะทัััะธะน ัะฐััะธัะตะฝะฝัะต ะฒะพะทะผะพะถะฝะพััะธ ะฐะบะบะฐัะฝัะพะฒ ะธ ะฒะทะฐะธะผะพะดะตะนััะฒะธะน ะฒ Ethereum:
- ะฟะพะดะดะตัะถะบะฐ **meta-ััะฐะฝะทะฐะบัะธะน** (ัะตัะตะท `ERC2771`)
- **ะบะปะพะฝะธััะตะผัะต ะฐะบะบะฐัะฝัั** ัะตัะตะท ัะฐะฑัะธะบั
- **ะพะฑะฝะพะฒะปัะตะผัะต (UUPS)** ัะฐะฑัะธะบะธ
- ะฟะพะดะดะตัะถะบะฐ **ERC20 Permit** (EIP-2612)
- ะบะพะฝััะพะปั ะดะพัััะฟะฐ

ะัะพะตะบั ัะพะฑัะฐะฝ ะธ ัะตััะธัะพะฒะฐะปัั ะฒ ััะตะดะต [Hardhat](https://hardhat.org/). ะัะต ะบะปััะตะฒัะต ะบะพะผะฟะพะฝะตะฝัั ะฟัะพัะตััะธัะพะฒะฐะฝั, ัะตะฐะปะธะทะพะฒะฐะฝะฐ ะฒะตัะธัะธะบะฐัะธั ะฝะฐ Etherscan. ะัะพะตะบั ัะฐะทะฑะธั ะฟะพ ะปะพะณะธัะตัะบะธะผ ะฟะฐะฟะบะฐะผ.

---

## ๐ฆ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

<details>
<summary><strong>contracts/</strong> โ ะธััะพะดะฝัะต ะบะพะฝััะฐะบัั

โโโ commonInterfaces
โ โโโ IETHAccount.sol # ะะฝัะตััะตะนั ะบะพะฝััะฐะบัะฐ-ััะตัะฐ
โ
โโโ erc20 # ERC20 ัะพะบะตะฝ ั Permit ะธ ะบะพะฝััะพะปะตะผ ะดะพัััะฟะฐ
โ โโโ AmetistToken.sol # ะัะฝะพะฒะฝะพะน ัะพะบะตะฝ (0x9758...)
โ โโโ AccessControl.sol # ะะพะฝััะพะปั ัะพะปะตะน
โ โโโ ERC20Permit.sol # Permit (EIP-2612)
โ โโโ IAccessControl.sol
โ โโโ IERC20Permit.sol
โ
โโโ factory # ะัะพััะฐั ัะฐะฑัะธะบะฐ ะบะปะพะฝะพะฒ
โ โโโ AccountBox.sol # ะคะฐะฑัะธะบะฐ (0xb7A2...)
โ โโโ ETHAccountV2.sol # ะจะฐะฑะปะพะฝ ััััะฐ (0x9030...)
โ
โโโ libs
โ โโโ IDGenerator.sol # ะฅะตัะธัะพะฒะฐะฝะธะต ID ะฐะบะบะฐัะฝัะฐ
โ
โโโ meta # Meta-ััะฐะฝะทะฐะบัะธะธ (ERC2771)
โ โโโ ERC2771Context.sol
โ โโโ ERC2771Forwarder.sol # ะคะพัะฒะฐัะดะตั (0xd8A7...)
โ โโโ ETHAccountV1.sol # ะกัะตั ั ะฟะพะดะดะตัะถะบะพะน ะผะตัะฐ-ััะฐะฝะทะฐะบัะธะน (0x36Ff...)
โ
โโโ test-helpers
โ โโโ ERC20Proxy.sol # ะฅะตะปะฟะตั ะดะปั Permit-ัะตััะพะฒ
โ
โโโ UUPS # UUPS-ัะฐะฑัะธะบะฐ ั ะฟะพะดะดะตัะถะบะพะน ะฐะฟะณัะตะนะดะพะฒ
# ะัะพะบัะธ ัะฐะฑัะธะบะธ: 0x4bb6...
# ะจะฐะฑะปะพะฝ ััััะฐ: 0x1328...
โโโ AccountBoxV1.sol # V1 (0xb3f5...)
โโโ AccountBoxV2.sol # V2 (0x9bc4...)
</summary>

<summary><strong>test/</strong> โ ัะตััั ะฝะฐ Hardhat + Chai</summary>
</details>

โโโ setup.ts # ะะฑัะฐั ัะธะบััััะฐ
โโโ erc20
โ โโโ AmetistToken.test.ts
โ โโโ helpers.ts
โโโ factory
โ โโโ Factory.test.ts
โโโ meta
โ โโโ meta.test.ts
โ โโโ helpers.ts
โโโ UUPS
โโโ uups.test.ts
<details>

<summary><strong>scripts/</strong> โ ัะบัะธะฟัั ะดะตะฟะปะพั ะธ ะฒะตัะธัะธะบะฐัะธะธ</summary>
</details>

โโโ deployERC20.ts # ะะตะฟะปะพะน ัะพะบะตะฝะฐ ั Permit
โโโ deployMeta.ts # ะะตะฟะปะพะน ััััะฐ + ัะพัะฒะฐัะดะตัะฐ
โโโ deployFactory.ts # ะะตะฟะปะพะน ะพะฑััะฝะพะน ัะฐะฑัะธะบะธ (AccountBox)
โโโ deployUUPS.ts # ะะตะฟะปะพะน UUPS-ะฟัะพะบัะธ ัะฐะฑัะธะบะธ ั ะฐะฟะณัะตะนะดะพะผ
โโโ logs
โโโ addresses.json # ะขะตะบััะธะต ะฐะดัะตัะฐ (ัะพัะฒะฐัะดะตั ะธ ั.ะด.)
โโโ deploy-log.txt # ะะดัะตัะฐ ะฒัะตั ะดะตะฟะปะพะตะฒ (ะฝะต ะบะพะผะผะธัะธััั)

<details>

</details>

---

## ๐ ะัะฟะพะปัะทัะตะผัะต ัะตัะฝะพะปะพะณะธะธ

- [Solidity ^0.8.x](https://docs.soliditylang.org/)
- [Hardhat](https://hardhat.org/)
- [OpenZeppelin Contracts](https://github.com/OpenZeppelin/openzeppelin-contracts)
- [Ethers.js](https://docs.ethers.org/)
- [Chai](https://www.chaijs.com/) ะดะปั ัะตััะธัะพะฒะฐะฝะธั

---

## ๐งช ะะปััะตะฒัะต ะฒะพะทะผะพะถะฝะพััะธ

| ะะฐะทะดะตะป            | ะะฟะธัะฐะฝะธะต                                                                 |
|-------------------|--------------------------------------------------------------------------|
| `ERC20Permit`     | ะะพะดะดะตัะถะบะฐ Permit ะฟะพ EIP-2612, ัะตััะธัะพะฒะฐะฝะธะต ะฟะพะดะฟะธัะตะน                      |
| `ERC2771`         | ะะตัะฐััะฐะฝะทะฐะบัะธะธ ัะตัะตะท ะบะฐััะพะผะฝัะน ัะพัะฒะฐัะดะตั                                 |
| `Factory`         | ะะปะพะฝะธัะพะฒะฐะฝะธะต ะบะพะฝััะฐะบัะพะฒ ะธ ัะฟัะฐะฒะปะตะฝะธะต ID                                  |
| `UUPS`            | ะะฑะฝะพะฒะปัะตะผะฐั ัะฐะฑัะธะบะฐ ั ัะพััะฐะฝะตะฝะธะตะผ ะฟัะพะบัะธ-ะฐะดัะตัะฐ                          |
| `ะะตัะธัะธะบะฐัะธั`     | ะัะต ะบะพะฝััะฐะบัั ะฟัะพัะปะธ ะฟัะพะฒะตัะบั ะฝะฐ [Etherscan Sepolia](https://sepolia.etherscan.io) |

---

## ๐งพ ะัะธะผะตัะฐะฝะธั

- ะัะพะตะบั **ััะตะฑะฝัะน** ะธ ัะปัะถะธั ะดะปั ะดะตะผะพะฝัััะฐัะธะธ ัะฐะทะปะธัะฝัั ะฟะฐััะตัะฝะพะฒ ัะฐะทัะฐะฑะพัะบะธ ัะผะฐัั-ะบะพะฝััะฐะบัะพะฒ.
- ะะพะฝััะฐะบัั ัะฝะฐะฑะถะตะฝั ัะตััะฐะผะธ, ะฟะพะบัััะธะต ะผะพะถะฝะพ ัะฐััะธัััั.

---

## ๐ ะัะธะผะตั ะฒัะทะพะฒะฐ

```bash
npx hardhat run scripts/deployUUPS.ts --network sepolia






